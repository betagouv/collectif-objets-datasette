rm -rf data.sqlite metadata.sqlite

poetry run csvs-to-sqlite data_scrapped/palissy.csv data.sqlite \
  --index DPT --index INSEE \
  --just-strings \
  --shape \
  "ACQU:ACQU(TEXT),
  ADRS:ADRS(TEXT),
  AFIG:AFIG(TEXT),
  AIRE:AIRE(TEXT),
  APPL:APPL(TEXT),
  ATEL:ATEL(TEXT),
  AUTP:AUTP(TEXT),
  AUTR:AUTR(TEXT),
  BASE:BASE(TEXT),
  BIBL:BIBL(TEXT),
  CANT:CANT(TEXT),
  CATE:CATE(TEXT),
  COM:COM(TEXT),
  COM2:COM2(TEXT),
  CONTACT:CONTACT(TEXT),
  CONTIENT_IMAGE:CONTIENT_IMAGE(TEXT),
  COOR:COOR(TEXT),
  COORM:COORM(TEXT),
  COPY:COPY(TEXT),
  DATE:DATE(TEXT),
  DBOR:DBOR(TEXT),
  DENO:DENO(TEXT),
  DENQ:DENQ(TEXT),
  DEPL:DEPL(TEXT),
  DESC:DESC(TEXT),
  DIMS:DIMS(TEXT),
  DMAJ:DMAJ(DATE),
  DMIS:DMIS(DATE),
  DOMN:DOMN(TEXT),
  DOSADRS:DOSADRS(TEXT),
  DOSS:DOSS(TEXT),
  DOSURL:DOSURL(TEXT),
  DOSURLP:DOSURLP(TEXT),
  DOSURLPDF:DOSURLPDF(TEXT),
  DPRO:DPRO(TEXT),
  DPT:DPT(TEXT),
  DPT_LETTRE:DPT_LETTRE(TEXT),
  EDIF:EDIF(TEXT),
  EMPL:EMPL(TEXT),
  ETAT:ETAT(TEXT),
  ETUD:ETUD(TEXT),
  EXEC:EXEC(TEXT),
  EXPO:EXPO(TEXT),
  HIST:HIST(TEXT),
  IDAGR:IDAGR(TEXT),
  IMAGE:IMAGE(TEXT),
  IMG:IMG(TEXT),
  IMPL:IMPL(TEXT),
  INSC:INSC(TEXT),
  INSEE:INSEE(TEXT),
  INTE:INTE(TEXT),
  JDAT:JDAT(TEXT),
  LARC:LARC(TEXT),
  LIENS:LIENS(TEXT),
  LIEU:LIEU(TEXT),
  LINHA:LINHA(TEXT),
  LMDP:LMDP(TEXT),
  LOCA:LOCA(TEXT),
  LREG:LREG(TEXT),
  MANQUANT:MANQUANT(TEXT),
  MATR:MATR(TEXT),
  MFICH:MFICH(TEXT),
  MICR:MICR(TEXT),
  MOSA:MOSA(TEXT),
  NART:NART(TEXT),
  NINV:NINV(TEXT),
  NOMS:NOMS(TEXT),
  NUMA:NUMA(TEXT),
  NUMP:NUMP(TEXT),
  OBS:OBS(TEXT),
  ORIG:ORIG(TEXT),
  PAPP:PAPP(TEXT),
  PARN:PARN(TEXT),
  PART:PART(TEXT),
  PDEN:PDEN(TEXT),
  PDIM:PDIM(TEXT),
  PERS:PERS(TEXT),
  PETA:PETA(TEXT),
  PHOTO:PHOTO(TEXT),
  PINS:PINS(TEXT),
  PINT:PINT(TEXT),
  PLOC:PLOC(TEXT),
  POP_ARRETE_PROTECTION:POP_ARRETE_PROTECTION(TEXT),
  POP_COMMENTAIRES:POP_COMMENTAIRES(TEXT),
  POP_CONTIENT_GEOLOCALISATION:POP_CONTIENT_GEOLOCALISATION(TEXT),
  POP_COORDINATES_POLYGON:POP_COORDINATES_POLYGON(TEXT),
  POP_COORDONNEES:POP_COORDONNEES(TEXT),
  POP_DOSSIER_PROTECTION:POP_DOSSIER_PROTECTION(TEXT),
  POP_DOSSIER_VERT:POP_DOSSIER_VERT(TEXT),
  POP_FLAGS:POP_FLAGS(TEXT),
  POP_IMPORT:POP_IMPORT(TEXT),
  PPRO:PPRO(TEXT),
  PRECISION_JURIDIQUE:PRECISION_JURIDIQUE(TEXT),
  PREP:PREP(TEXT),
  PRODUCTEUR:PRODUCTEUR(TEXT),
  PROT:PROT(TEXT),
  REF:REF(TEXT),
  REFE:REFE(TEXT),
  REFJOC:REFJOC(TEXT),
  REFM:REFM(TEXT),
  REFMUS:REFMUS(TEXT),
  REFP:REFP(TEXT),
  REG:REG(TEXT),
  RENP:RENP(TEXT),
  RENV:RENV(TEXT),
  REPR:REPR(TEXT),
  SCLD:SCLD(TEXT),
  SCLE:SCLE(TEXT),
  SCLX:SCLX(TEXT),
  SOUR:SOUR(TEXT),
  STAD:STAD(TEXT),
  STAT:STAT(TEXT),
  STRU:STRU(TEXT),
  THEM:THEM(TEXT),
  TICO:TICO(TEXT),
  TITR:TITR(TEXT),
  TOUT:TOUT(TEXT),
  VIDEO:VIDEO(TEXT),
  VOLS:VOLS(TEXT),
  WADRS:WADRS(TEXT),
  WCOM:WCOM(TEXT),
  WEB:WEB(TEXT),
  WRENV:WRENV(TEXT),
  ZONE:ZONE(TEXT)"

poetry run csvs-to-sqlite data_scrapped/merimee.csv data.sqlite \
  --index PRODUCTEUR --index INSEE --index DPT \
  --just-strings \
  --shape \
  "
  ACMH:ACMH(TEXT),
  ACTU:ACTU(TEXT),
  ACURL:ACURL(TEXT),
  ADRS:ADRS(TEXT),
  AFFE:AFFE(TEXT),
  AIRE:AIRE(TEXT),
  APPL:APPL(TEXT),
  APRO:APRO(TEXT),
  ARCHEO:ARCHEO(TEXT),
  AUTP:AUTP(TEXT),
  AUTR:AUTR(TEXT),
  BASE:BASE(TEXT),
  CADA:CADA(TEXT),
  CANT:CANT(TEXT),
  COLL:COLL(TEXT),
  COM:COM(TEXT),
  CONTACT:CONTACT(TEXT),
  CONTIENT_IMAGE:CONTIENT_IMAGE(TEXT),
  COOR:COOR(TEXT),
  COORM:COORM(TEXT),
  COPY:COPY(TEXT),
  COUV:COUV(TEXT),
  DATE:DATE(TEXT),
  DBOR:DBOR(TEXT),
  DENO:DENO(TEXT),
  DENQ:DENQ(TEXT),
  DEPL:DEPL(TEXT),
  DESC:DESC(TEXT),
  DIMS:DIMS(TEXT),
  DLAB:DLAB(TEXT),
  DMAJ:DMAJ(DATE),
  DMIS:DMIS(DATE),
  DOMN:DOMN(TEXT),
  DOSADRS:DOSADRS(TEXT),
  DOSS:DOSS(TEXT),
  DOSURL:DOSURL(TEXT),
  DOSURLPDF:DOSURLPDF(TEXT),
  DPRO:DPRO(TEXT),
  DPT:DPT(TEXT),
  DPT_LETTRE:DPT_LETTRE(TEXT),
  EDIF:EDIF(TEXT),
  ELEV:ELEV(TEXT),
  ENER:ENER(TEXT),
  ESCA:ESCA(TEXT),
  ETAG:ETAG(TEXT),
  ETAT:ETAT(TEXT),
  ETUD:ETUD(TEXT),
  GENR:GENR(TEXT),
  HIST:HIST(TEXT),
  HYDR:HYDR(TEXT),
  IDAGR:IDAGR(TEXT),
  IMAGE:IMAGE(TEXT),
  IMG:IMG(TEXT),
  IMPL:IMPL(TEXT),
  INSEE:INSEE(TEXT),
  INTE:INTE(TEXT),
  JATT:JATT(TEXT),
  JDAT:JDAT(TEXT),
  LIENS:LIENS(TEXT),
  LIEU:LIEU(TEXT),
  LINHA:LINHA(TEXT),
  LMDP:LMDP(TEXT),
  LOCA:LOCA(TEXT),
  LREG:LREG(TEXT),
  MFICH:MFICH(TEXT),
  MHPP:MHPP(TEXT),
  MICR:MICR(TEXT),
  MOSA:MOSA(TEXT),
  MURS:MURS(TEXT),
  NBOR:NBOR(TEXT),
  NOMS:NOMS(TEXT),
  OBS:OBS(TEXT),
  PAFF:PAFF(TEXT),
  PARN:PARN(TEXT),
  PART:PART(TEXT),
  PDEN:PDEN(TEXT),
  PERS:PERS(TEXT),
  PINT:PINT(TEXT),
  PLAN:PLAN(TEXT),
  PLOC:PLOC(TEXT),
  POP_ARRETE_PROTECTION:POP_ARRETE_PROTECTION(TEXT),
  POP_CONTIENT_GEOLOCALISATION:POP_CONTIENT_GEOLOCALISATION(TEXT),
  POP_COORDINATES_POINT:POP_COORDINATES_POINT(TEXT),
  POP_COORDINATES_POLYGON:POP_COORDINATES_POLYGON(TEXT),
  POP_COORDONNEES:POP_COORDONNEES(TEXT),
  POP_DATE:POP_DATE(TEXT),
  POP_DOSSIER_PROTECTION:POP_DOSSIER_PROTECTION(TEXT),
  POP_DOSSIER_VERT:POP_DOSSIER_VERT(TEXT),
  POP_FLAGS:POP_FLAGS(TEXT),
  POP_HAS_LOCATION:POP_HAS_LOCATION(TEXT),
  POP_IMPORT:POP_IMPORT(TEXT),
  PPRO:PPRO(TEXT),
  PREP:PREP(TEXT),
  PRODUCTEUR:PRODUCTEUR(TEXT),
  PROT:PROT(TEXT),
  PSTA:PSTA(TEXT),
  REF:REF(TEXT),
  REFE:REFE(TEXT),
  REFIM:REFIM(TEXT),
  REFJOC:REFJOC(TEXT),
  REFM:REFM(TEXT),
  REFMUS:REFMUS(TEXT),
  REFO:REFO(TEXT),
  REFP:REFP(TEXT),
  REG:REG(TEXT),
  REMA:REMA(TEXT),
  REMP:REMP(TEXT),
  RENV:RENV(TEXT),
  REPR:REPR(TEXT),
  RFPA:RFPA(TEXT),
  SCLD:SCLD(TEXT),
  SCLE:SCLE(TEXT),
  SCLX:SCLX(TEXT),
  SITE:SITE(TEXT),
  STAT:STAT(TEXT),
  TECH:TECH(TEXT),
  THEM:THEM(TEXT),
  TICO:TICO(TEXT),
  TOIT:TOIT(TEXT),
  TOUT:TOUT(TEXT),
  TYPO:TYPO(TEXT),
  VERT:VERT(TEXT),
  VIDEO:VIDEO(TEXT),
  VISI:VISI(TEXT),
  VOCA:VOCA(TEXT),
  VOUT:VOUT(TEXT),
  WADRS:WADRS(TEXT),
  WCOM:WCOM(TEXT),
  WEB:WEB(TEXT),
  WRENV:WRENV(TEXT),
  ZONE:ZONE(TEXT)"

poetry run csvs-to-sqlite data_scrapped/palissy_to_merimee.csv data.sqlite --just-strings --index REF_PALISSY --index REF_MERIMEE
poetry run csvs-to-sqlite data_scrapped/palissy_to_memoire.csv data.sqlite --just-strings --index REF_PALISSY
poetry run csvs-to-sqlite data_scrapped/merimee_to_memoire.csv data.sqlite --just-strings --index REF_MERIMEE

poetry run csvs-to-sqlite data_scrapped/mairies.csv data.sqlite --index code_insee --index departement

poetry run csvs-to-sqlite metadata/*.csv metadata.sqlite
